<div style="height: 100%;">
  <div ng-if="!solutionEditorIsOpen"
       style="height: 100%;"
       ng-attr-title="<[isEditable ? 'Edit solution' : '']>">
    <div class="oppia-readonly-rule-tile"
         ng-class="{'oppia-editable-section': isEditable}">
      <div class="oppia-rule-preview oppia-transition-200">
        <div class="oppia-click-to-start-editing"
             ng-if="isEditable" ng-click="openSolutionEditor()">
          <i ng-if="isEditable"
             class="material-icons oppia-editor-edit-icon pull-right"
             title="Edit Solution">&#xE254;
          </i>
        </div>
        <strong>
          <[solution.answerIsExclusive ? 'Only' : 'One']> Solution is...
        </strong>
        <span ng-if="objectType !== 'CodeString' &&
                     objectType !== 'Graph' &&
                     objectType !== 'RegionSelect' &&
                     objectType !== 'UnicodeString'">
          <[solution.correctAnswer]>
        </span>
        <span ng-if="objectType === 'CodeString'">
          <[solution.correctAnswer.code]>
        </span>
        <span ng-if="objectType === 'Graph'">
          [Graph Object]
        </span>
        <span ng-if="objectType === 'RegionSelect'">
          <[solution.correctAnswer.clickedRegions[0]]>
        </span>
        <span ng-if="objectType === 'UnicodeString'">
          <[solution.correctAnswer.latex]>
        </span>
        <br>
        <strong>Explanation is...</strong>
        <span angular-html-bind="solution.explanation"></span>
      </div>
    </div>
  </div>

  <div ng-if="isEditable && solutionEditorIsOpen">
    <form role="form"
          class="form-inline"
          name="editSolutionForm"
          ng-submit="saveThisSolution()">
      <div class="oppia-rule-details-header">
        <select ng-model="solution.answerIsExclusive">
          <option value="false">One</option>
          <option value="true">Only</option>
        </select> <strong>Solution is...</strong>
        <html-select ng-if="objectType === 'select'"
                     style="width: 250px;"
                     options="ruleDescriptionChoices"
                     selection="solution.correctAnswer">
        </html-select>
        <html-select ng-if="objectType === 'RegionSelect'"
                     style="width: 250px;"
                     options="ruleDescriptionChoices"
                     selection="solution.correctAnswer">
        </html-select>
        <textarea ng-if="objectType === 'LogicQuestion'"
                  ng-model="solution.correctAnswer">
        </textarea>
        <object-editor ng-if="objectType === 'UnicodeString'"
                       obj-type="<[objectType]>"
                       init-args="{choices: ruleDescriptionChoices}"
                       is-editable="true"
                       always-editable="true"
                       value="solution.correctAnswer.latex"
                       style="color: black;">
        </object-editor>
        <object-editor ng-if="objectType === 'CodeString'"
                       obj-type="<[objectType]>"
                       init-args="{choices: ruleDescriptionChoices}"
                       is-editable="true"
                       always-editable="true"
                       value="solution.correctAnswer.code"
                       style="color: black;">
        </object-editor>
        <object-editor ng-if="objectType !== 'CodeString' &&
                              objectType !== 'select' &&
                              objectType !== 'RegionSelect' &&
                              objectType !== 'UnicodeString' &&
                              objectType !== 'LogicQuestion'"
                       obj-type="<[objectType]>"
                       init-args="{choices: ruleDescriptionChoices}"
                       is-editable="true"
                       always-editable="true"
                       value="solution.correctAnswer"
                       style="color: black;">
        </object-editor>
        <br>
        <strong>Explanation is...</strong>
        <schema-based-editor schema="EXPLANATION_FORM_SCHEMA"
                             local-value="solution.explanation">
        </schema-based-editor>
      </div>
    </form>

    <div class="oppia-rule-save-cancel-buttons">
      <div class="pull-right">
        <button type="button"
                class="btn btn-default"
                ng-click="cancelThisSolutionEdit()">
          Cancel
        </button>
        <button type="button"
                class="btn btn-success"
                ng-disabled="!solution.correctAnswer && !solution.explanation"
                ng-click="saveThisSolution()">
          Save
        </button>
      </div>

      <div style="clear: both;"></div>
    </div>
  </div>
</div>
